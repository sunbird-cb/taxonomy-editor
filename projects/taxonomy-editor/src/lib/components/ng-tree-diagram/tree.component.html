<div style="display: flex !important; flex:1;flex-direction: row;">
  <div style="display: flex !important; clear: both; position:fixed;right:0;top:0;z-index: 999;flex-direction: column;">
    <button (click)="fit()" style="height: 40px;width:40px;">FIT</button>
    <button #in (click)="zoomIn()" style="height: 40px;width:40px;">+</button>
    <button #out (click)="zoomOut()" style="height: 40px;width:40px;">-</button>
    <button #clockRotate (click)="rotate('c')" style="height: 40px;width:40px;">clock</button>
    <button #antiClockRotate (click)="rotate('ac')" style="height: 40px;width:40px;">anti-clock</button>
    <button #left (click)="shift('left')" style="height: 40px;width:40px;">left</button>
    <button #right (click)="shift('right')" style="height: 40px;width:40px;">right</button>
    <button #up (click)="shift('up')" style="height: 40px;width:40px;">up</button>
    <button #down (click)="shift('down')" style="height: 40px;width:40px;">down</button>
    {{keysState}}
  </div>
  <div *ngIf="!rotating" style="display:flex; flex:1; width: 100vw; height:100vh;">
    <div [ngClass]="{'tree-pane': keysState === 0, 'tree-pane-hori': keysState === 3}" (mousedown)="onmousedown()"
      (mouseup)="onmouseup()" (mousemove)="onmousemove($event)" (mousewheel)="onmousewheel($event)"
      [style.transform]="paneRotation">
      <div class="tree-paning-container" [style.transform]="paneTransform">
        <div *ngIf="nodes" class="tree-roots-elements">

          <tree-diagram-node [keysState]="keysState" [nodeId]="node.guid" class="tree-root tree-node"
            (mousedown)="preventMouse($event)" *ngFor="let node of nodes.roots"></tree-diagram-node>
          <ng-container *ngIf="newNodeAllowed">
            <tree-diagram-node [keysState]="keysState" [nodeId]="nodeMaker" (click)="newNode()"
              (mousedown)="preventMouse($event)" class="tree-root tree-new-node tree-node"></tree-diagram-node>
          </ng-container>

        </div>
      </div>
    </div>
  </div>
</div>